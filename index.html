<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Orientation</title>
</head>
<body>
    <pre id="container">...!</pre>
    <div id="msg">
        <p>X Axis: <span class="axis--x"></span></p>
        <p>Y Axis: <span class="axis--y"></span></p>
        <p>Z Axis: <span class="axis--z"></span></p>
        Hello, world.
    </div>
    <script>
    ( function( window, document ) {
        console.log( 'INSIDE `iife`' ); /// TEMP

        // DECLARE VARS
        var elem = document.querySelector( '#container' );
        var msgElem = document.querySelector( '#msg' );
        var xAxisElem = document.querySelector( '.axis--x' );
        var yAxisElem = document.querySelector( '.axis--y' );
        var zAxisElem = document.querySelector( '.axis--z' );

        let lastCoords = {
            alpha: null,
            beta: null,
            gamma: null,
        };

        // DECLARE FUNCTIONS
        function handleOrientationChange( e ) {
            var output = '';

            if ( e && elem ) {
              output += e.absolute;
              output += '\n';
              output += e.alpha;
              output += '\n';
              output += e.beta;
              output += '\n';
              output += e.gamma;

              elem.innerHTML = output;

              xAxisElem.innerHTML = e.alpha;
              yAxisElem.innerHTML = e.beta;
              zAxisElem.innerHTML = e.gamma;

              lastCoords = e;
            }
        }

        // INIT
        window.addEventListener( 'DOMContentLoaded', function() {
            window.addEventListener( 'deviceorientation', handleOrientationChange );
        } );

        } )( window, document );
    </script>
</body>
</html>
